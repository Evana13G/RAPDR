
################################################################################
################################################################################
## Action Primivitive Discovery in Robotic Agents through Action Segmentation ##
## -- a proof of concept model for knowledge aquisition in intelligent agents ##
## -- Evana Gizzi, Mateo Guaman Castro, Jivko Sinapov, 2018                   ##
################################################################################
################################################################################

 ... Setting up services
 ... Cleaning up data from last run
 ... Setting up initial data

Agent has the following goal: 
['(obtained block)']

Agent will attempt to accomplish this goal. If attempt fails, agent will try
to find new actions and replan with those actions. Process repeats until the 
agent is able to accomplish its goal....

***************************   ATTEMPT #1   ***************************
Setting up domain and problem for attempt #1
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #1
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123056.144014, 206.392000]: Robot Enabled
[INFO] [1550123057.382821, 207.469000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #1
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #1

 -- Combo # 0: ['obtain_object', 'left_gripper', 'block', None]
 ---- 6 total change points found
Trying partial plan execution on segmentations
[INFO] [1550123122.168916, 269.613000]: Robot Enabled
[INFO] [1550123123.256970, 270.672000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 -- iteration 4 successful!

***************************   ATTEMPT #2   ***************************
Setting up domain and problem for attempt #2
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #2
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123223.627098, 361.224000]: Robot Enabled
[INFO] [1550123229.363393, 366.737000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #2
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #2

 -- Combo # 0: ['press_button', 'left_gripper', 'left_button', None]
 ---- 6 total change points found
Trying partial plan execution on segmentations
[INFO] [1550123265.970998, 401.412000]: Robot Enabled
[INFO] [1550123267.057761, 402.457000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 ---- Segmentation VIABLE! Adding to knowledge base
 -- iteration 4 successful!

***************************   ATTEMPT #3   ***************************
Setting up domain and problem for attempt #3
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #3
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123393.619486, 523.114000]: Robot Enabled
[INFO] [1550123394.733251, 524.176000]: Robot Enabled
Executing a Primitive

***************************   ATTEMPT #4   ***************************
Setting up domain and problem for attempt #4
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #4
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123436.921705, 564.325000]: Robot Enabled
[INFO] [1550123442.707992, 569.809000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #4
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #4

 -- Combo # 0: ['press_button', 'right_gripper', 'left_button', None]
 ---- 6 total change points found
Trying partial plan execution on segmentations
[INFO] [1550123506.621434, 629.848000]: Robot Enabled
[INFO] [1550123507.753098, 630.912000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 -- iteration 4 successful!

***************************   ATTEMPT #5   ***************************
Setting up domain and problem for attempt #5
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #5
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123582.263502, 701.209000]: Robot Enabled
[INFO] [1550123583.352202, 702.250000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #5
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #5

 -- Combo # 0: ['obtain_object', 'left_gripper', 'wall', None]
 ---- 0 total change points found
Trying partial plan execution on segmentations
[INFO] [1550123593.353874, 711.767000]: Robot Enabled
[INFO] [1550123594.466411, 712.817000]: Robot Enabled

***************************   ATTEMPT #6   ***************************
Setting up domain and problem for attempt #6
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #6
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123652.194676, 767.413000]: Robot Enabled
[INFO] [1550123653.318053, 768.468000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #6
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #6

 -- Combo # 0: ['obtain_object', 'left_gripper', 'table', None]
 ---- 9 total change points found
Trying partial plan execution on segmentations
[INFO] [1550123719.409195, 830.138000]: Robot Enabled
[INFO] [1550123720.524640, 831.189000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 -- iteration 4 successful!
 -- iteration 5 successful!
 -- iteration 6 successful!
 -- iteration 7 successful!

***************************   ATTEMPT #7   ***************************
Setting up domain and problem for attempt #7
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #7
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550123870.745719, 971.142000]: Robot Enabled
[INFO] [1550123876.744032, 976.718000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #7
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #7

 -- Combo # 0: ['press_button', 'left_gripper', 'left_button', None]
 ---- 6 total change points found
Trying partial plan execution on segmentations
[INFO] [1550123913.927055, 1011.045000]: Robot Enabled
[INFO] [1550123915.048527, 1012.092000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 ---- Segmentation VIABLE! Adding to knowledge base
 -- iteration 4 successful!

***************************   ATTEMPT #8   ***************************
Setting up domain and problem for attempt #8
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #8
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124027.060144, 1116.116000]: Robot Enabled
[INFO] [1550124033.026324, 1121.671000]: Robot Enabled
Executing a Primitive

***************************   ATTEMPT #9   ***************************
Setting up domain and problem for attempt #9
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #9
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124055.462242, 1142.417000]: Robot Enabled
[INFO] [1550124061.385080, 1147.921000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #9
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #9

 -- Combo # 0: ['obtain_object', 'left_gripper', 'block', None]
 ---- 12 total change points found
Trying partial plan execution on segmentations
[INFO] [1550124128.156370, 1208.838000]: Robot Enabled
[INFO] [1550124129.311085, 1209.899000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 -- iteration 4 successful!
 -- iteration 5 successful!
 -- iteration 6 successful!
 -- iteration 7 successful!
 -- iteration 8 successful!
 -- iteration 9 successful!
 -- iteration 10 successful!

***************************   ATTEMPT #10   ***************************
Setting up domain and problem for attempt #10
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #10
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124252.910632, 1321.845000]: Robot Enabled
[INFO] [1550124259.063618, 1327.443000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #10
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #10

 -- Combo # 0: ['press_button', 'right_gripper', 'left_button', None]
 ---- 6 total change points found
Trying partial plan execution on segmentations
[INFO] [1550124324.966083, 1386.344000]: Robot Enabled
[INFO] [1550124326.121274, 1387.399000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 ---- Segmentation VIABLE! Adding to knowledge base
 -- iteration 4 successful!

***************************   ATTEMPT #11   ***************************
Setting up domain and problem for attempt #11
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #11
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124403.541943, 1457.358000]: Robot Enabled
[INFO] [1550124404.700211, 1458.396000]: Robot Enabled

***************************   ATTEMPT #12   ***************************
Setting up domain and problem for attempt #12
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #12
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124410.501590, 1463.645000]: Robot Enabled
[INFO] [1550124411.660491, 1464.685000]: Robot Enabled

***************************   ATTEMPT #13   ***************************
Setting up domain and problem for attempt #13
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #13
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124412.905646, 1465.809000]: Robot Enabled
[INFO] [1550124414.061855, 1466.869000]: Robot Enabled

***************************   ATTEMPT #14   ***************************
Setting up domain and problem for attempt #14
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #14
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124415.274708, 1467.979000]: Robot Enabled
[INFO] [1550124416.439013, 1469.027000]: Robot Enabled

***************************   ATTEMPT #15   ***************************
Setting up domain and problem for attempt #15
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #15
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124477.265072, 1523.646000]: Robot Enabled
[INFO] [1550124478.415189, 1524.688000]: Robot Enabled
Executing a Primitive

***************************   ATTEMPT #16   ***************************
Setting up domain and problem for attempt #16
 -- Domain setup complete
 -- Problem setup complete

Triggering plan generation and execution for attempt #16
 -- Plan generation complete
 -- Plan execution failed
[INFO] [1550124523.216088, 1564.768000]: Robot Enabled
[INFO] [1550124524.365751, 1565.816000]: Robot Enabled

Generating all possible action/arg combinations (to send to APV) for attempt #16
 -- generation complete, 5 total combos found

Finding segmentation possibilities (across all combos generated) for attempt #16

 -- Combo # 0: ['obtain_object', 'left_gripper', 'block', None]
 ---- 6 total change points found
Trying partial plan execution on segmentations
[INFO] [1550124554.309065, 1592.359000]: Robot Enabled
[INFO] [1550124555.479563, 1593.409000]: Robot Enabled
 -- iteration 0 successful!
 -- iteration 1 successful!
 -- iteration 2 successful!
 -- iteration 3 successful!
 -- iteration 4 successful!

Goal accomplished!

Times for each trial (in s): 
[160.85803699493408, 171.0644178390503, 83.77172303199768, 165.84763884544373, 13.391877889633179, 217.7247200012207, 156.11659789085388, 85.97280311584473, 197.42331099510193, 150.64707899093628, 6.955801010131836, 2.395430088043213, 2.3951239585876465, 2.394845962524414, 83.84940814971924, 80.62550401687622]
Total time elapsed: 1581.43439221
